{% extends "base/base.html" %}
{% load staticfiles %}
{% block title %}Sci Log - Result for {{ selected_protocol_result.protocol.name }}{% endblock %}
{% block body %}
{% include "base/toolbar.html" %}
{% load protocol_extras %}
<div class="content">
{% include "base/drawer.html" %}
  <div class="main-grid mdc-elevation--z8 mdc-layout-grid">
    <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-9">
      <h1 class="mdc-typography--headline mdl-color-text--light-blue-500 subpageheader">
        Result details for {{ selected_protocol_result.title }}
      </h1>
    </div>
    {% if request.user == selected_protocol_result.owner %}
    <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3">
      <a data-mdc-auto-init="MDCRipple"
         href="{% url 'update_protocol_result' protocol_uuid=selected_protocol_result.protocol.pk result_uuid=selected_protocol_result.pk %}"
         class="mdc-button mdl-color-text--blue-grey-600 subpageheader right">
        <i class="material-icons mdl-color-text--light-blue-500">edit</i> Update result
      </a>
    </div>
    {% endif %}
    <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
      <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-12 margin--none padding-0">
        <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-3 margin--none padding-0">
          <p class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdl-color-text--light-blue-500 mdc-typography--subhead">Success</p>
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 margin--none">
            {% if selected_protocol_result.is_successful %}
            Yes
            {% else %}
            No
            {% endif %}
          </div>
        </div>
        <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-3 margin--none padding-0">
          <p class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdl-color-text--light-blue-500 mdc-typography--subhead">State</p>
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 margin--none">
            {{ selected_protocol_result.get_state_display }}
          </div>
        </div>
        {% if selected_protocol_result.project.name %}
        <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-3 margin--none padding-0">
          <p class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdl-color-text--light-blue-500 mdc-typography--subhead">Linked to project</p>
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 margin--none">
            {{ selected_protocol_result.project.name }}
          </div>
        </div>
        {% endif %}
        <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-3 margin--none padding-0">
          <p class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdl-color-text--light-blue-500 mdc-typography--subhead">Linked protocol</p>
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 margin--none">
            {{ selected_protocol_result.protocol.name }}
          </div>
        </div>
      </div>
      {% if selected_protocol_result.note %}
      <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-12 margin--none padding--top-24 padding-0">
        <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-6 margin--none padding-0">
          <p class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdl-color-text--light-blue-500 mdc-typography--subhead">Result note</p>
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 margin--none">
            {{ selected_protocol_result.note }}
          </div>
        </div>
      </div>
      {% endif %}
      <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-12 margin--none padding--top-24 padding-0">
        <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-3 margin--none padding-0">
          <p class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdl-color-text--light-blue-500 mdc-typography--subhead">Independent variable</p>
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 margin--none">
            {{ selected_protocol_result.independent_variable }}
          </div>
        </div>
        <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-3 margin--none padding-0">
          <p class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdl-color-text--light-blue-500 mdc-typography--subhead">Dependent variable</p>
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 margin--none">
            {{ selected_protocol_result.dependent_variable }}
          </div>
        </div>
        <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-3 margin--none padding-0">
          <p class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdl-color-text--light-blue-500 mdc-typography--subhead">Data type (Independent variables)</p>
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 margin--none">
            {{ selected_protocol_result.get_data_type_independent_display }}
          </div>
        </div>
        <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-3 margin--none padding-0">
          <p class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdl-color-text--light-blue-500 mdc-typography--subhead">Data type (Dependent varialbes)</p>
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 margin--none">
            {{ selected_protocol_result.get_data_type_dependent_display }}
          </div>
        </div>
      </div>
      <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-12 margin--none padding--top-24 padding-0">
        <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdl-color-text--light-blue-500 mdc-typography--subhead">
          Data table
        </div>
        <div class="table" data-content="dataTable--parent">
          <div class="thead">
            <div class="th table--border-right" id="independent-title">{{ selected_protocol_result.independent_variable }}</div>
            <div class="th" id="dependent-title">{{ selected_protocol_result.dependent_variable }}</div>
          </div>
          <div class="tbody">
            <div class="trow">
              {% for independent_column in selected_protocol_result.data_columns.independent_variable %}
              <div class="td table--border-right col-indep">
                <ul class="mdc-list">
                  <li class="mdc-list-item"></li>
                  {% for data_value in independent_column.data %}
                  <li class="mdc-list-item" data-type="independent-value">{{ data_value }}</li>
                  {% endfor %}
                </ul>
              </div>
              {% endfor %}
              {% for dependent_column in selected_protocol_result.data_columns.dependent_variable %}
              <div class="td col">
                <ul class="mdc-list">
                  <li class="mdc-list-item" data-type="dependent-title">{{ dependent_column.title }}</li>
                  {% for data_value in dependent_column.data %}
                  <li class="mdc-list-item" data-type="dependent-value">{{ data_value }}</li>
                  {% endfor %}
                </ul>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% include "base/footer.html" %}
</div>
<div class="mdc-snackbar mdl-color--blue-500"
     aria-live="assertive"
     aria-atomic="true"
     aria-hidden="true" id="mdc-js-snackbar">
  <div class="mdc-snackbar__text"></div>
  <div class="mdc-snackbar__action-wrapper">
    <button type="button" class="mdc-button mdc-snackbar__action-button"></button>
  </div>
</div>
{% include "base/scroll_top.html" %}
{% endblock %}
{% block post_load %}
<script type = "text/javascript" src="{% static "front/js/ajax.js" %}"></script>
<script type = "text/javascript" src="{% static "front/js/triggers.js" %}"></script>
{% endblock %}
