<div class="border--bottom-blue padding--bottom-16">
  <span class="mdl-color-text--blue-500 article--modal-title padding-0">
    Results
  </span>
  {% if can_add_items %}
  <a data-mdc-auto-init="MDCRipple"
     href="{% url 'create_protocol_result' protocol_uuid=selected_protocol.uuid %}"
     class="mdc-button mdl-color-text--blue-grey-600 right">
    <i class="material-icons mdl-color-text--blue-500">playlist_add</i> Add result
  </a>
  {% endif %}
</div>
{% if selected_protocol.results.all %}
<ul class="mdc-list padding-0">
  <li class="mdc-layout-grid border--bottom mdl-color-text--blue-500 margin--none padding-0">
    <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-{% if can_add_items %}11{% else %}12{% endif %}">
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-4">Owner</div>
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3">Project</div>
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-2">Created on</div>
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-2 text-center">State</div>
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-1 text-center">Success</div>
    </div>
    {% if can_add_items %}
    <div class="mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-1 center">
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">Remove</div>
    </div>
    {% endif %}
  </li>
</ul>
<ul class="mdc-list padding-0">
  {% for result in selected_protocol.results.all %}
  <li class="border--bottom mdc-layout-grid margin--none padding-0">
    <a href="{% url 'protocol_result' protocol_uuid=selected_protocol.uuid result_uuid=result.uuid %}"
       class="links--wrap mdc-layout-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-{% if can_add_items %}11{% else %}12{% endif %} list--link margin--none">
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-4">{{ result.owner }}</div>
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3">{% if result.project %}{{ result.project }}{% else %}-{% endif %}</div>
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-2">{{ result.datetime_created|date:"d M Y" }}</div>
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-2 text-center">{{ result.get_state_display }}</div>
      {% if result.is_successful == True %}
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-1 mdl-color-text--green-600 text-center">Yes</div>
      {% else %}
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-1 mdl-color-text--pink-600 text-center">No</div>
      {% endif %}
    </a>
    {% if can_add_items %}
      {% if request.user == result.owner %}
      <a href="#" class="mdc-button mdc-button--icon center padding-8"
         aria-label="Remove result" title="Remove result" data-mdc-auto-init="MDCRipple">
        <i class="material-icons list--link-remove">clear</i>
      </a>
      {% else %}
      <button class="mdc-button center padding-8" disabled
         aria-label="Not accessible" title="Not accessible" data-mdc-auto-init="MDCRipple">
        <i class="material-icons list--link-inactive">lock_outline</i>
      </button>
      {% endif %}
    {% endif %}
  </li>
  {% endfor %}
</ul>
{% else %}
<div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
  <div class="article width--full margin--top-16">
    <h1 class="mdl-color-text--accent section--title">No results</h1>
    <p class="mdl-color-text--blue-grey-900">
      There are no results yet. Use the '+ ADD' button to add more.
    </p>
  </div>
</div>
{% endif %}
