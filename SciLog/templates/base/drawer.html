{% load staticfiles %}
<nav class="mdc-permanent-drawer drawer">
  <div class="mdc-list-group">
    <nav class="mdc-list">
      <a class="mdc-list-item" href="{% url 'projects_list' %}">
        <i class="material-icons mdc-list-item__start-detail {% if "/project/" in request.path %}mdl-color-text--blue-500{% endif %}"
           aria-hidden="true">list</i>
           {% if selected_project.uuid|stringformat:"s" in request.path %}
           Project
           {% else %}
           Projects
           {% endif %}
      </a>
      {% if selected_project.uuid|stringformat:"s" in request.path %}
        {% if 'section' in request.GET %}
          {% with section=request.GET.section %}
        <div class="mdc-list">
          <a class="mdc-list-item {% if section == 'results' %}mdl-color-text--blue-500{% endif %}" href="?section=results">
            <span class="margin--left-72">Results</span>
          </a>
          <a class="mdc-list-item {% if section == 'protocols' %}mdl-color-text--blue-500{% endif %}" href="?section=protocols">
            <span class="margin--left-72">Protocols</span>
          </a>
          <a class="mdc-list-item {% if section == 'sources' %}mdl-color-text--blue-500{% endif %}" href="?section=sources">
            <span class="margin--left-72">Sources</span>
          </a>
          <a class="mdc-list-item {% if section == 'participants' %}mdl-color-text--blue-500{% endif %}" href="?section=participants">
            <span class="margin--left-72">Participants</span>
          </a>
        </div>
          {% endwith %}
          {% elif 'update' in request.path %}
          <div class="mdc-list">
            <span class="mdc-list-item">
              <span class="margin--left-72 mdl-color-text--blue-500">Edit project</span>
            </span>
          </div>
        {% else %}
        <div class="mdc-list">
          <a class="mdc-list-item mdl-color-text--blue-500" href="?section=results">
            <span class="margin--left-72">Results</span>
          </a>
          <a class="mdc-list-item {% if section == 'protocols' %}mdl-color-text--blue-500{% endif %}" href="?section=protocols">
            <span class="margin--left-72">Protocols</span>
          </a>
          <a class="mdc-list-item {% if section == 'sources' %}mdl-color-text--blue-500{% endif %}" href="?section=sources">
            <span class="margin--left-72">Sources</span>
          </a>
          <a class="mdc-list-item {% if section == 'participants' %}mdl-color-text--blue-500{% endif %}" href="?section=participants">
            <span class="margin--left-72">Participants</span>
          </a>
        </div>
        {% endif %}
      {% endif %}
      <a class="mdc-list-item"
         href="{% url 'protocols_list' %}">
        <i class="material-icons mdc-list-item__start-detail {% if "/protocol/" in request.path %}mdl-color-text--blue-500{% endif %}"
           aria-hidden="true">assignment</i>
           {% if selected_protocol.uuid|stringformat:"s" in request.path or selected_protocol_result.protocol.uuid|stringformat:"s" in request.path %}
            Protocol
           {% else %}
           Protocols
           {% endif %}
      </a>
      {% if selected_protocol.uuid|stringformat:"s" in request.path or selected_protocol_result.protocol.uuid|stringformat:"s" in request.path %}
        {% if 'section' in request.GET or '/result/' in request.path %}
          {% with section=request.GET.section %}
        <div class="mdc-list">
          <a class="mdc-list-item {% if section == 'procedure' %}mdl-color-text--blue-500{% endif %}" href="?section=procedure">
            <span class="margin--left-72">Procedures</span>
          </a>
          {% if selected_protocol_result.protocol.uuid|stringformat:"s" in request.path %}
          <a class="mdc-list-item {% if section == 'results' or '/result/' in request.path %}mdl-color-text--blue-500{% endif %}" href="{% url 'protocol' protocol_uuid=selected_protocol_result.protocol.pk %}?section=results">
            <span class="margin--left-72">Results</span>
          </a>
          {% else %}
          <a class="mdc-list-item {% if section == 'results' or '/result/' in request.path %}mdl-color-text--blue-500{% endif %}" href="?section=results">
            <span class="margin--left-72">Results</span>
          </a>
          {% endif %}
          <a class="mdc-list-item {% if section == 'assets' %}mdl-color-text--blue-500{% endif %}" href="?section=assets">
            <span class="margin--left-72">Assets</span>
          </a>
          <a class="mdc-list-item {% if section == 'participants' %}mdl-color-text--blue-500{% endif %}" href="?section=participants">
            <span class="margin--left-72">Participants</span>
          </a>
        </div>
          {% endwith %}
        {% elif 'update' in request.path %}
        <div class="mdc-list">
          <span class="mdc-list-item">
            <span class="margin--left-72 mdl-color-text--blue-500">Edit protocol</span>
          </span>
        </div>
        {% else %}
        <div class="mdc-list">
          <a class="mdc-list-item mdl-color-text--blue-500" href="?section=procedure">
            <span class="margin--left-72">Procedures</span>
          </a>
          <a class="mdc-list-item {% if section == 'results' %}mdl-color-text--blue-500{% endif %}" href="?section=results">
            <span class="margin--left-72">Results</span>
          </a>
          <a class="mdc-list-item {% if section == 'assets' %}mdl-color-text--blue-500{% endif %}" href="?section=assets">
            <span class="margin--left-72">Assets</span>
          </a>
          <a class="mdc-list-item {% if section == 'participants' %}mdl-color-text--blue-500{% endif %}" href="?section=participants">
            <span class="margin--left-72">Participants</span>
          </a>
        </div>
        {% endif %}
      {% endif %}
      <a class="mdc-list-item" href="{% url 'invitations_list' %}">
        <i class="material-icons mdc-list-item__start-detail {% if "/invitation/" in request.path %}mdl-color-text--blue-500{% endif %}"
           aria-hidden="true">drafts</i>Invitations
      </a>
    </nav>
  </div>
</nav>
<aside class="mdc-temporary-drawer mdc-typography mdc-permanent-drawer__content" data-mdc-auto-init="MDCTemporaryDrawer">
  <nav class="mdc-temporary-drawer__drawer">
    <nav class="mdc-list">
      <a class="mdc-list-item" href="{% url 'projects_list' %}">
        <i class="material-icons mdc-list-item__start-detail {% if "/project/" in request.path %}mdl-color-text--blue-500{% endif %}"
           aria-hidden="true">list</i>
           {% if selected_project.uuid|stringformat:"s" in request.path %}
           Project
           {% else %}
           Projects
           {% endif %}
      </a>
      {% if selected_project.uuid|stringformat:"s" in request.path %}
        {% if 'section' in request.GET %}
          {% with section=request.GET.section %}
        <div class="mdc-list">
          <a class="mdc-list-item {% if section == 'results' %}mdl-color-text--blue-500{% endif %}" href="?section=results">
            <span class="margin--left-72">Results</span>
          </a>
          <a class="mdc-list-item {% if section == 'protocols' %}mdl-color-text--blue-500{% endif %}" href="?section=protocols">
            <span class="margin--left-72">Protocols</span>
          </a>
          <a class="mdc-list-item {% if section == 'sources' %}mdl-color-text--blue-500{% endif %}" href="?section=sources">
            <span class="margin--left-72">Sources</span>
          </a>
          <a class="mdc-list-item {% if section == 'participants' %}mdl-color-text--blue-500{% endif %}" href="?section=participants">
            <span class="margin--left-72">Participants</span>
          </a>
        </div>
          {% endwith %}
          {% elif 'update' in request.path %}
          <div class="mdc-list">
            <span class="mdc-list-item">
              <span class="margin--left-72 mdl-color-text--blue-500">Edit project</span>
            </span>
          </div>
        {% else %}
        <div class="mdc-list">
          <a class="mdc-list-item mdl-color-text--blue-500" href="?section=results">
            <span class="margin--left-72">Results</span>
          </a>
          <a class="mdc-list-item {% if section == 'protocols' %}mdl-color-text--blue-500{% endif %}" href="?section=protocols">
            <span class="margin--left-72">Protocols</span>
          </a>
          <a class="mdc-list-item {% if section == 'sources' %}mdl-color-text--blue-500{% endif %}" href="?section=sources">
            <span class="margin--left-72">Sources</span>
          </a>
          <a class="mdc-list-item {% if section == 'participants' %}mdl-color-text--blue-500{% endif %}" href="?section=participants">
            <span class="margin--left-72">Participants</span>
          </a>
        </div>
        {% endif %}
      {% endif %}
      <a class="mdc-list-item"
         href="{% url 'protocols_list' %}">
        <i class="material-icons mdc-list-item__start-detail {% if "/protocol/" in request.path %}mdl-color-text--blue-500{% endif %}"
           aria-hidden="true">assignment</i>
           {% if selected_protocol.uuid|stringformat:"s" in request.path %}
            Protocol
           {% else %}
           Protocols
           {% endif %}
      </a>
      {% if selected_protocol.uuid|stringformat:"s" in request.path %}
        {% if 'section' in request.GET %}
          {% with section=request.GET.section %}
        <div class="mdc-list">
          <a class="mdc-list-item {% if section == 'procedure' %}mdl-color-text--blue-500{% endif %}" href="?section=procedure">
            <span class="margin--left-72">Procedures</span>
          </a>
          <a class="mdc-list-item {% if section == 'results' %}mdl-color-text--blue-500{% endif %}" href="?section=results">
            <span class="margin--left-72">Results</span>
          </a>
          <a class="mdc-list-item {% if section == 'assets' %}mdl-color-text--blue-500{% endif %}" href="?section=assets">
            <span class="margin--left-72">Assets</span>
          </a>
          <a class="mdc-list-item {% if section == 'participants' %}mdl-color-text--blue-500{% endif %}" href="?section=participants">
            <span class="margin--left-72">Participants</span>
          </a>
        </div>
          {% endwith %}
        {% elif 'update' in request.path %}
        <div class="mdc-list">
          <span class="mdc-list-item">
            <span class="margin--left-72 mdl-color-text--blue-500">Edit protocol</span>
          </span>
        </div>
        {% else %}
        <div class="mdc-list">
          <a class="mdc-list-item mdl-color-text--blue-500" href="?section=procedure">
            <span class="margin--left-72">Procedures</span>
          </a>
          <a class="mdc-list-item {% if section == 'results' %}mdl-color-text--blue-500{% endif %}" href="?section=results">
            <span class="margin--left-72">Results</span>
          </a>
          <a class="mdc-list-item {% if section == 'assets' %}mdl-color-text--blue-500{% endif %}" href="?section=assets">
            <span class="margin--left-72">Assets</span>
          </a>
          <a class="mdc-list-item {% if section == 'participants' %}mdl-color-text--blue-500{% endif %}" href="?section=participants">
            <span class="margin--left-72">Participants</span>
          </a>
        </div>
        {% endif %}
      {% endif %}
      <a class="mdc-list-item" href="{% url 'invitations_list' %}">
        <i class="material-icons mdc-list-item__start-detail {% if "/invitation/" in request.path %}mdl-color-text--blue-500{% endif %}"
           aria-hidden="true">drafts</i>Invitations
      </a>
    </nav>
  </nav>
</aside>
