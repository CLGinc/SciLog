{% extends "base/base.html" %}
{% load staticfiles %}
{% block title %}Sci Log - Project Name{% endblock %}
{% block body %}
  <div class="layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
    {% include "base/top_header.html" %}
    {% include "base/drawer.html" %}
    <main class="mdl-layout__content">
      <div class="page-content mdl-grid">
        <div class="width--full">
          <h1 class="mdl-typography--headline mdl-color-text--blue-500 subpageheader">{{ selected_project.name }}</h1>
          <p class="mdl-typography--caption">Created on: {{ selected_project.datetime_created }}</p>
        </div>
        <div class="mdl-cell mdl-cell--9-col">
          <div class="mdl-card width--full">
            <div class="mdl-card__title mdl-color-text--blue-500">
              <h2 class="mdl-card__title-text">Description</h2>
            </div>
            <div class="mdl-card__supporting-text mdl-color-text--blue-grey-900">
              {{ selected_project.description }}
            </div>
          </div>
          <div class="mdl-card width--full">
            <div class="mdl-card__title mdl-color-text--blue-500">
              <h2 class="mdl-card__title-text">Protocols</h2>
            </div>
            <div class="mdl-card__supporting-text mdl-color-text--blue-grey-900">
              {% for protocol, stats in protocols.items %}
                {{ protocol.name }}<br/>
                {{ protocol.label }}<br/>
                 experiments in progress {{ stats.created }}<br/>
                 completed experiments {{ stats.finished }}<br/>
                   successful X<br/>
                 steps {{ stats.procedures }}<br/>
                {{ protocol.get_owner }}<br/>
              {% endfor %}
            </div>
          </div>
          <div class="mdl-card width--full">
            <div class="mdl-card__title mdl-color-text--blue-500">
              <h2 class="mdl-card__title-text">Sources</h2>
            </div>
            <div class="mdl-card__supporting-text mdl-color-text--blue-grey-900">
              {% for source in selected_project.sources.all %}
                {{ source.name }}<br/>
                {{ source.url }}<br/>
                {{ source.isbn }}<br/>
              {% endfor %}
            </div>
          </div>
        </div>
        <div class="mdl-cell mdl-cell--3-col">
          <div class="mdl-card">
            <div class="mdl-card__title mdl-color-text--blue-500">
              <h2 class="mdl-card__title-text">Participants</h2>
            </div>
            <div class="mdl-card__supporting-text">
              <ul class="mdl-list margin--none padding--top-none">
                {% for role_value, roles in participants_by_role %}
                <li class="mdl-list__item padding--left-none">{{ role_value }}</li>
                  {% for role in roles %}
                <li class="mdl-list__item padding--left-none">
                  <span class="mdl-list__item-primary-content">
                    <img class="participant-list--avatar" src="/static/front/img/ninja.png">
                    <a class="links--wrap mdl-color-text--blue-grey-600 participant-list--link" href="">
                      <span>{{ role.researcher }}</span>
                    </a>
                  </span>
                  <span class="mdl-list__item-secondary-content mdl-color-text--blue-grey-600">
                    {% if role.role == 'owner' %}
                    <i class="material-icons">person_outline</i>
                    {% endif %}
                    {% if role.role == 'contributor' %}
                    <i class="material-icons">people_outline</i>
                    {% endif %}
                    {% if role.role == 'watcher' %}
                    <i class="material-icons">remove_red_eye</i>
                    {% endif %}
                  </span>
                </li>
                  {% endfor %}
                {% endfor %}
              </ul>
            </div>
            <div class="mdl-card__actions mdl-card--border">
              <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-color-text--blue-grey-600">
                <i class="material-icons mdl-color-text--blue-500">expand_more</i>
                See all participants
              </a>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
{% endblock %}
{% block post_load %}
{% endblock %}
